<div [ngSwitch]="categorie">
    <div *ngSwitchCase="'women'">
        <section class="bg-title-page p-t-50 p-b-40 flex-col-c-m" style="background-image: url(assets/logo/cat_femme.jpg);position: relative;">
            <div class="caption">
                <h2>W O M E N</h2>
            </div>
        </section>
    </div>
    <div *ngSwitchCase="'men'">
            <section class="bg-title-page p-t-50 p-b-40 flex-col-c-m" style="background-image: url(assets/logo/cat_homme.jpg);position: relative;">
                <div class="caption">
                    <h2>M E N</h2>
                </div>
            </section>
        </div>    
</div> 

<div class="container-fluid">
<ul class="big-cat">
    <li class="big-cat-li">
        <div class="sidebar">
            <div class="sidebar_section">
                <div class="sidebar_title">Product Category</div>
                <ul class="sidebar_categories">
                    <ng-container div *ngFor="let m of menus$|async"><li ><a [routerLink]="['',m.categorie.name,m.name]">{{m.name}}</a></li></ng-container>
                </ul>
                <div class="sidebar_title">Filter by Price</div>
                <ul class="sidebar_categories tail">
                    <li><a class="tail-items" [routerLink]="['/',categorie,type,tail,coul,10]" >10</a></li>
                    <li><a class="tail-items" [routerLink]="['/',categorie,type,tail,coul,30]" >30</a></li>
                    <li><a class="tail-items" [routerLink]="['/',categorie,type,tail,coul,50]" >50</a></li>
                    <li><a class="tail-items" [routerLink]="['/',categorie,type,tail,coul,100]" >100</a></li>
                    <li><a class="tail-items" [routerLink]="['/',categorie,type,tail,coul,200]" >200</a></li>
                    <li><a class="tail-items" [routerLink]="['/',categorie,type,tail,coul,400]" >400</a></li>
                </ul>
                <div class="sidebar_title">Colour</div>
                <ul class="sidebar_categories tail">
                    <ng-container div *ngFor="let m of couleurs$|async">
                        <li><a class="tail-items" [routerLink]="['/',categorie,type,tail,m.couleur,price]">{{m.couleur}}</a></li>
                    </ng-container>
                </ul>
                <div class="sidebar_title">Size</div>
                <ul class="sidebar_categories tail">
                    <ng-container *ngFor="let m of tailles$|async">
                        <li><a class="tail-items" [routerLink]="['/',categorie,type,m.taille,coul,price]">{{m.taille}}</a></li>
                    </ng-container>
                </ul>
            </div>
        </div>
    </li>
    <li class="big-cat-li">
        <ul class="categorie">
            <ng-container *ngFor="let source of sources$|async"  > 
                <li class="categorie-li"> 
                    <div *ngIf="tail!='all'&&coul!='all'">
                        <div *ngFor="let couleur of source.couleur">
                            <div *ngFor="let taille of source.taille">
                                <div *ngIf="couleur.couleur==coul&&taille.taille==tail&&source.prix<=price">
                                    <div class="product-img">
                                        <img [src]="source.url" alt="{{source.name}}">
                                        <div class="product-quicview">
                                            <a  (click)="openModal(template)"><i class="ti-plus"></i></a>
                                        </div>
                                    </div>
                                    <div class="product-description">
                                        <p>{{source.name}}</p>
                                        <h6 class="product-price">${{source.prix}}</h6>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div *ngIf="coul=='all'&&tail!='all'">
                        <div *ngFor="let taille of source.taille">
                            <div *ngIf="taille.taille==tail ">
                                <div class="product-img">
                                    <img [src]="source.url" alt="{{source.name}}">
                                    <div class="product-quicview">
                                        <a  (click)="openModal(template)"><i class="ti-plus"></i></a>
                                    </div>
                                </div>
                                <div class="product-description">
                                    <p>{{source.name}}</p>
                                    <h6 class="product-price">${{source.prix}}</h6>
                                </div>
                            </div>
                        </div>
                    </div> 
                    <div *ngIf="coul=='all'&&tail!='all'">
                        <div *ngFor="let taille of source.taille">
                            <div *ngIf="taille.taille==tail &&source.prix<=price">
                                <div class="product-img">
                                    <img [src]="source.url" alt="{{source.name}}">
                                    <div class="product-quicview">
                                        <a  (click)="openModal(template)"><i class="ti-plus"></i></a>
                                    </div>
                                </div>
                                <div class="product-description">
                                    <p>{{source.name}}</p>
                                    <h6 class="product-price">${{source.prix}}</h6>
                                </div>
                            </div>
                        </div>
                    </div>          
                    <div *ngIf="tail=='all'&&coul!='all'">
                        <div *ngFor="let couleur of source.couleur">
                            <div *ngIf="couleur.couleur==coul&&source.prix<=price">
                                <div class="product-img">
                                    <img [src]="source.url" alt="{{source.name}}">
                                    <div class="product-quicview">
                                        <a  (click)="openModal(template)"><i class="ti-plus"></i></a>
                                    </div>
                                </div>
                                <div class="product-description">
                                    <p>{{source.name}}</p>
                                    <h6 class="product-price">${{source.prix}}</h6>
                                </div>                                       
                            </div>
                        </div>
                    </div>            
                    <div *ngIf="coul=='all'&&tail=='all'&&source.prix<=price">
                        <div class="product-img">
                            <img [src]="source.url" alt="{{source.name}}">
                            <div class="product-quicview">
                                <a  (click)="openModal(template)"><i class="ti-plus"></i></a>
                            </div>
                        </div>
                        <div class="product-description">
                            <p>{{source.name}}</p>
                            <h6 class="product-price">${{source.prix}}</h6>
                        </div>
                    </div>
                </li>
                    
                    
                <ng-template #template>
                    <div class="modal-content modal-custom ">
                        <div class="modal-header">
                        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-sm-12 col-md-6 col-lg-6 ">
                                    <div class="modal-img">
                                        <img [src]="source.url" alt="{{source.name}}"  style="width: 250px;height:400px">
                                    </div>                    
                                </div>
                                <div class="col-sm-12 col-md-6 col-lg-1 "></div> 
                                <div class="col-sm-12 col-md-6 col-lg-5 ">   
                                    <div class="product-description">
                                        <h5>{{source.name}}</h5>
                                        <h6 class="product-price">${{source.prix}}</h6>
                                    </div>
                                    <ul><br>
                                        <p>Sizes :</p>
                                        <div *ngFor="let taille of source.taille">
                                            <li>       {{taille.taille}}
                                            </li>
                                        </div>
                                        <br>
                                        <p>Colours :</p>
                                        <div *ngFor="let couleur of source.couleur">         
                                            <li  >
                                                {{couleur.couleur}}
                                            </li>
                                        </div>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-template>

                
            </ng-container>
        </ul>
    </li>
</ul>
</div>


<!--div [ngSwitch]="categorie">
    <div *ngSwitchCase="'women'">
        <section class="bg-title-page p-t-50 p-b-40 flex-col-c-m" style="background-image: url(assets/logo/cat_femme.jpg);position: relative;">
            <div class="caption">
                <h2>W O M E N</h2>
            </div>
        </section>
    </div>
    <div *ngSwitchCase="'men'">
        <section class="bg-title-page p-t-50 p-b-40 flex-col-c-m" style="background-image: url(assets/logo/cat_homme.jpg);position: relative;">
            <div class="caption">
                <h2>M E N</h2>
            </div>
        </section>
    </div>    
</div>

<div class="container">
    <div class="row ">
        <app-vertnavbar></app-vertnavbar>
        
        <div class="col-6">
            <div class="row">
                <ng-container *ngFor="let source of sources$|async"  > 
                   
                    <div class="col-sm-12 col-md-6 col-lg-4 p-b-50">
                        
                        <div class=" gallery">
                           <div *ngIf="tail!='all'&&coul!='all'">
                            <div *ngFor="let couleur of source.couleur">
                                <div *ngFor="let taille of source.taille">
                                  <div *ngIf="couleur.couleur==coul&&taille.taille==tail&&source.prix<=price">
                                    <img [src]="source.url" alt="{{source.name}}" (click)="openModal(template)" class="thumbnail" style="width: 300px;height:400px">
                                  </div>
                                </div>
                               </div>
                           </div>

                              <div *ngIf="coul=='all'&&tail!='all'">

                                     <div *ngFor="let taille of source.taille">
                                        <div *ngIf="taille.taille==tail &&source.prix<=price">
                                                <div class="product-img">
                                                        <img [src]="source.url" alt="{{source.name}}">
                                                        <div class="product-quicview">
                                                            <a  (click)="openModal(template)"><i class="ti-plus"></i></a>
                                                        </div>
                                                    </div>
                                                    <div class="product-description">
                                                        <p>{{source.name}}</p>
                                                        <h6 class="product-price">${{source.prix}}</h6>
                                                    </div>
                                                </div>
                                    </div>
                                
                              </div>
                              
                              <div *ngIf="tail=='all'&&coul!='all'">
                                 <div *ngFor="let couleur of source.couleur">
                                        <div *ngIf="couleur.couleur==coul&&source.prix<=price">
                                                <div class="product-img">
                                                        <img [src]="source.url" alt="{{source.name}}">
                                                        <div class="product-quicview">
                                                            <a  (click)="openModal(template)"><i class="ti-plus"></i></a>
                                                        </div>
                                                    </div>
                                                    <div class="product-description">
                                                        <p>{{source.name}}</p>
                                                        <h6 class="product-price">${{source.prix}}</h6>
                                                    </div>                                        </div>
                                 </div>
                              </div>
                                
                               <div *ngIf="coul=='all'&&tail=='all'&&source.prix<=price">
                                    <div class="product-img">
                                            <img [src]="source.url" alt="{{source.name}}">
                                            <div class="product-quicview">
                                                <a  (click)="openModal(template)"><i class="ti-plus"></i></a>
                                            </div>
                                        </div>
                                        <div class="product-description">
                                            <p>{{source.name}}</p>
                                            <h6 class="product-price">${{source.prix}}</h6>
                                        </div>
                                </div>
                        
                          
                           
                        </div>
                    </div>
                   
                    <ng-template #template>
                        <div class="modal-header">
                          <h4 class="modal-title pull-left">Modal</h4>
                          <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                    <div class="modal-body">
                        <p>  {{source.name}}</p>
                        <p>  {{source.prix}}</p>
                        <ul>
                                <div *ngFor="let taille of source.taille">
                                    <li>       
                                    {{taille.taille}}
                                            </li>
                                    </div>
                           <div *ngFor="let couleur of source.couleur">         
                               <li  >
                                {{couleur.couleur}}
                               </li>
                           </div>
                           
                        </ul>  
                         </div>
                      </ng-template>
                      
                          
                    
                </ng-container>
          
        </div>
        </div>
    </div>

       
        
</div>
<div>
        <ul>
                <ng-container div *ngFor="let m of couleurs$|async">
                        
                        <li  ><a [routerLink]="['/',categorie,type,tail,m.couleur]">{{m.couleur}}</a></li>
                </ng-container>
                <ng-container *ngFor="let m of tailles$|async">
                                <li  ><a [routerLink]="['/',categorie,type,m.taille,coul]">{{m.taille}}</a></li>
                                          
                </ng-container>
                <li>
                    <a [routerLink]="['/',categorie,type,tail,coul,5]" >5</a>
                </li>
                <li>
                        <a [routerLink]="['/',categorie,type,tail,coul,10]" >10</a>
                    </li>
                
         </ul>
        </div-->

